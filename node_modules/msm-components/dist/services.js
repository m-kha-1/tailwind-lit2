import e from"i18next";import t from"i18next-browser-languagedetector";import n from"i18next-http-backend";import{URLPattern as r}from"urlpattern-polyfill";import{makeAutoObservable as o,runInAction as i,toJS as a}from"mobx";function s(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function h(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}window.app=window.app||new MSM2.App;var d=window.app,v=MSM2.App.HtmlHelper,m=MSM2.App.AuthHelper,f=MSM2.App.ScriptHelper;class O{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;h(this,"queue",new Map),h(this,"pending",new Set),h(this,"parallel",1),this.parallel=e}push(e){return new Promise(((t,n)=>{this.queue.set(e,t),this.startNext()}))}remove(e){this.pending.delete(e),this.startNext()}startNext(){var e=this;if(this.pending.size<this.parallel){var t=this.parallel-this.pending.size,n=[...this.queue].slice(0,t),r=function(t){e.queue.delete(o);var n=o().then((e=>t(e)));e.pending.add(n),n.then((()=>e.remove(n)),(t=>{console.log("PromiseQueue rejected; reason: ".concat(JSON.stringify(t))),e.remove(n)}))};for(var[o,i]of n)r(i)}}}var w=new class{constructor(){h(this,"_queue",new O(50))}isLogged(){return this.invokeAndGetJson("sellerRegistrationServiceImpl","PROTOTYPE","isLogged",[]).then((e=>e.result))}getLoggedProfile(){return this.invokeAndGetJson("sellerRegistrationServiceImpl","PROTOTYPE","getLoggedProfile",[]).then((e=>e.result))}getLoggedSeller(){return this.invokeAndGetJson("sellerRegistrationServiceImpl","PROTOTYPE","getLoggedSeller",[]).then((e=>e.result))}getCdnFolder(){return this.invokeAndGetJson("ecomSearchEngineServiceImpl","PROTOTYPE","getCdnFolderName",[]).then((e=>e.result))}getSecuredFolder(){return this.invokeAndGetJson("commonProperties","PROTOTYPE","getSecuredCdnFolderName",[]).then((e=>e.result))}getSeoUrl(e,t){if(e&&t)return this.invokeAndGetJson("marketingServiceImpl","PROTOTYPE","getSeoUrl",[e,t]).then((e=>e.result))}getSuperUserLogin(){return this.invokeAndGetJson("commonProperties","PROTOTYPE","getSuperUserLogin",[]).then((e=>e.result))}getAttributeAreaTypes(){return this.invokeAndGetJson("ecomSearchEngineServiceImpl","PROTOTYPE","getAreaUsageTypes",[]).then((e=>e.result))}getAttributeTypes(){return this.invokeAndGetJson("ecomSearchEngineServiceImpl","PROTOTYPE","getAttributeTypes",[]).then((e=>e.result))}getFormattedDate(e,t){if(e&&t)return this.invokeAndGetJson("frameworkOperationServiceImpl","PROTOTYPE","getFormattedDate",[e,t]).then((e=>{var t;return null===(t=e.result)||void 0===t?void 0:t.value}))}getFileExtension(e){if(e)return this.invokeAndGetJson("frameworkOperationServiceImpl","PROTOTYPE","getFileExtension",[e]).then((e=>e.result))}getLangCode(){return this.invokeAndGetJson("frameworkOperationServiceImpl","PROTOTYPE","getLangCode",[]).then((e=>e.result))}getLanguageDetection(){return this.invokeAndGetJson("frameworkOperationServiceImpl","PROTOTYPE","isLanguageDetection",[]).then((e=>e.result))}getActiveLanguages(){return this.invokeAndGetJson("frameworkOperationServiceImpl","PROTOTYPE","getActiveLanguages",[]).then((e=>e.result))}getWebSiteSettings(){return this.invokeAndGetJson("frameworkOperationServiceImpl","PROTOTYPE","getCurrentWebSiteSettings",[]).then((e=>e.result))}isOpenAiActive(){return N("chatGPTService","PROTOTYPE","isOpenAiKeyDefined").then((e=>e.result))}getPayloadOfForm(e){return v.getPayloadOfForm(e)}getResultObjectOfElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.getResultObjectOfElements(t)}getResultObjectOfSelectElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.getResultObjectOfSelectElements(t)}stringFormat(e,t){for(var n=0;n<t.length;n++){var r=new RegExp("\\{"+n+"\\}","gi");e=e.replace(r,arguments[n])}return e}arrayRange(e,t,n){return Array.from({length:(t-e)/n+1},((t,r)=>e+r*n))}escapeRegExp(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[.*+?^${}()|[\]\\]/g,"\\\\$&")}setPlatformInfo(){var e=navigator.userAgent.toLowerCase();-1!=e.indexOf("safari")&&(e.indexOf("chrome")>-1?document.body.classList.add("chrome"):document.body.classList.add("safari"))}getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}setCookie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=["".concat(e,"=").concat(t),null!=n?"expires=".concat(n):"",null!=r?"domain=".concat(r):"",null!=o?"path=".concat(o):""].filter((e=>e.length>0)).join("; ");document.cookie=i}getDomainName(){return window.location.hostname}deleteAllCookies(e){var t=t=>e.some((e=>e instanceof RegExp?e.test(t):t==e)),n=document.cookie.split("; ");for(var r of n){var o=r.split(";")[0].split("=")[0];if(!t(o))for(var i=window.location.hostname.split(".");i.length>0;){var a="Thu, 01-Jan-1970 00:00:01 GMT",s=i.join(".");this.setCookie(o,"",a,s,"/"),this.setCookie(o,"",a,"."+s,"/"),i.shift()}}window.localStorage.clear()}languageAwareUrl(e){var t=this;return g((function*(){if(!(yield t.getLanguageDetection())&&t.isNotSPA(e)){var n=k("i18next")?k("i18next"):sessionStorage.getItem("msmLang");return"/".concat(n).concat(e)}return e}))()}isNotSPA(e){return!e.match(/^(\/user\/.*|\/admin\/.*)/)}groupIntervals(e,t){for(var n=[],r=e.sort(((e,t)=>e-t)),o=r.length>0?r[0]:0,i=r.length>0?r[r.length-1]:0,a=o;a<i;a+=t){var s=a+t>=i?i:a+t,l=[a+1,s];if(a===o){var u=[0,a];n.push(u)}if(n.push(l),s===i){var c=[s];n.push(c)}}return n}applyToUrl(e){var t=e&&""!==e.toString()?"?".concat(e.toString()):"",n="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname).concat(t);window.history.replaceState({path:n},document.title,decodeURI(n))}invokeAndGetJson(e,t,n,r,o,i){return new Promise(((a,s)=>{setTimeout((()=>{d.invokeAndGetJson$(e,t,n,r,null,o,i).subscribe((function(e){a(e)}))}),0)}))}invokeFromRepositoryAndGetJson(e,t,n,r){return new Promise(((o,i)=>{setTimeout((()=>{d.invokeFromRepositoryAndGetJson$(e,t,null,n,r).subscribe((function(e){o(e)}))}),0)}))}updateBeanAndGetJson(e,t,n,r,o){return new Promise(((i,a)=>{setTimeout((()=>{d.updateBeanAndGetJson$(e,t,n,null,r,o).subscribe((function(e){i(e)}))}),0)}))}},y=e=>w.languageAwareUrl(e),P=e=>w.deleteAllCookies(e),S=()=>w.getDomainName(),b=(e,t,n,r,o)=>w.setCookie(e,t,n,r,o),k=e=>w.getCookie(e),A=()=>w.setPlatformInfo(),T=e=>w.escapeRegExp(e),R=()=>w.getCdnFolder(),L=()=>w.getSecuredFolder(),E=(e,t)=>w.getSeoUrl(e,t),x=()=>w.getSuperUserLogin(),I=()=>w.getAttributeAreaTypes(),j=()=>w.getAttributeTypes(),J=(e,t)=>w.getFormattedDate(e,t),C=()=>w.getLangCode(),F=()=>w.getLanguageDetection(),G=()=>w.getActiveLanguages(),_=()=>w.isLogged(),Y=()=>w.getLoggedProfile(),N=(e,t,n,r,o,i)=>w.invokeAndGetJson(e,t,n,r,o,i),M=(e,t,n,r)=>w.invokeFromRepositoryAndGetJson(e,t,n,r),U=(e,t,n,r,o)=>w.updateBeanAndGetJson(e,t,n,r,o),B=e=>w.getPayloadOfForm(e),D=()=>w.getWebSiteSettings(),q=()=>w.isOpenAiActive();var $=new class{constructor(){h(this,"_defaultLocalesPath",""),h(this,"_translations",new Map),h(this,"_i18n",null),h(this,"proxy",new Proxy({},{})),h(this,"placeholder","..."),this.proxy=new Proxy({},{has:(e,t)=>this._translations.get("translationsRepository").has(t),get:(e,t)=>this.get(t)}),this._translations.set("translationsRepository",new Map),this._i18n=C().then((r=>e.use(t).use(n).init({fallbackLng:r,partialBundledLanguages:!0,backend:{loadPath:"".concat(this._defaultLocalesPath)},detection:{order:["cookie","sessionStorage"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupSessionStorage:"msmLang",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["sessionStorage","cookie"]}},((e,t)=>{if(e)return console.log("something went wrong loading",e)}))))}setLocalesPath(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(this._defaultLocalesPath);this._i18n=C().then((o=>e.use(t).use(n).init({fallbackLng:o,backend:{loadPath:"".concat(r)},detection:{order:["cookie","sessionStorage"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupSessionStorage:"msmLang",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["sessionStorage","cookie"]}},((e,t)=>{if(e)return console.log("something went wrong loading",e)}))))}addResourceBundle(t,n,r){e.addResourceBundle(t,n,r)}load(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"translationsRepository",n=N("translationServiceImpl","PROTOTYPE","getTranslation",[e,t]).then((t=>{var n;return null!==(n=t.result)&&void 0!==n&&n.value?t.result.value:(console.warn('Translation not found for "'.concat(e,'"')),e)}));return this._translations.has(t)||this._translations.set(t,new Map),this._translations.get(t).set(e,n),n}clearCache(){this._translations=new Map}get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"translationsRepository";return this._translations.has(t)&&this._translations.get(t).has(e)?this._translations.get(t).get(e):this.load(e,t)}many(){var e=arguments,t=this;return g((function*(){for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=e[o];var i=yield Promise.all(r.map(function(){var e=g((function*(e){return[e,yield t.get(e)]}));return function(t){return e.apply(this,arguments)}}()));return Object.fromEntries(i)}))()}loadByLangCodeForEntity(e,t){return N("translationServiceImpl","PROTOTYPE","getTranslation",[e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"translationsRepository"]).then((t=>{var n;return null!==(n=t.result)&&void 0!==n&&n.value?t.result.value:(console.warn('Translation not found for "'.concat(e,'"')),e)}))}loadByLangCode(e,t){var n={query:{_id:"".concat(e,"_").concat(t)}};return M("translationsRepository",n).then((e=>e.result.map((e=>{var{text:t}=e;return{text:t}})).map((e=>e.text))[0]))}loadTranslationById(e){return M("translationsRepository",{query:{_id:e}}).then((e=>e.result[0]))}getLanguages(){return N("translationServiceImpl","PROTOTYPE","findLanguages",[]).then((e=>e.result))}getAlphabetForActiveLanguage(){return N("translationServiceImpl","PROTOTYPE","getAlphabetForActiveLanguage",["true"])}translate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._i18n.then((()=>new Promise(((t,r)=>{t(e.t(...n))}))))}},H=$.proxy,W=function(){return $.translate(...arguments)},z=function(){return $.setLocalesPath(...arguments)},Q=function(){return $.load(...arguments)},K=function(){return $.clearCache(...arguments)},V=function(){return $.get(...arguments)},X=function(){return $.many(...arguments)},Z=function(){return $.loadByLangCodeForEntity(...arguments)},ee=function(){return $.loadByLangCode(...arguments)},te=function(){return $.loadTranslationById(...arguments)},ne=function(){return $.getLanguages(...arguments)},re=function(){return $.getAlphabetForActiveLanguage(...arguments)},oe=new WeakSet;function ie(e,t){var n=s(oe,this,ae).call(this,e,t);return i((()=>this.activeRoute=n)),n}function ae(e,t){var n=a(this.routes.get(e));if(s(oe,this,se).call(this,n)){var r=n.url.substring(n.url.lastIndexOf("/")+2),o=r.replace("+","").replace(".html","");n.props={},n.url=n.url.replace(":"+r,t),n.props[o]=t.replace(".html","")}return sessionStorage.setItem("activeRoute",JSON.stringify(n)),W(n.title).then((e=>document.title=this.applicationName+" | "+e.toString())),n}function se(e){return-1!==(null==e?void 0:e.url.indexOf(":"))}var le=new class{constructor(){p(this,oe),h(this,"applicationName",null),h(this,"activeRoute",null),h(this,"routes",new Map),h(this,"disabled",!1),o(this)}init(e){var t=this.findRouteByUrl(window.location.pathname);if(this.applicationName=e,t)if(s(oe,this,se).call(this,t)){var n=this.getActiveRoute(),[r]=Object.keys(n.props),o=n.props[r];this.navigate(n.panel,o+".html")}else s(oe,this,se).call(this,t)||this.navigate(t.panel);else{var[i]=this.routes.keys(),a=this.routes.get(i);if(s(oe,this,se).call(this,a)){var[l]=Object.keys(a.props),u=a.props[l];this.navigate(a.panel,u+".html")}else s(oe,this,se).call(this,a)||this.navigate(a.panel)}window.addEventListener("popstate",(e=>{var t=e.state;if(t.props){var[n]=Object.keys(t.props),r=t.props[n];s(oe,this,ie).call(this,e.state.panel,r)}else s(oe,this,ie).call(this,e.state.panel)}))}findRouteByUrl(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},[...this.routes.values()].find((t=>t.pattern.test(window.origin+e))));if(Object.keys(t).length>0){var n=t.pattern.exec(window.location.href);return t.props=n.pathname.groups,i((()=>this.activeRoute=t)),t}}addRoute(e,t,n){var o=new r({pathname:e,baseURL:window.location.origin});this.routes.set(t,{url:e,panel:t,title:n,pattern:o})}removeActiveRoute(){sessionStorage.removeItem("activeRoute")}navigate(e,t){if(this.routes.has(e)){var n=s(oe,this,ie).call(this,e,t);window.history.pushState(n,"",n.url)}}disable(){this.disabled=!0}getActiveRoute(){if(this.activeRoute)return a(this.activeRoute);var e=sessionStorage.getItem("activeRoute");return e?JSON.parse(e):null}};export{d as MSM2App,m as MSM2AuthHelper,v as MSM2HtmlHelper,f as MSM2ScriptHelper,M as callRepository,N as callService,K as clearTranslationsCache,P as deleteAllCookies,T as escapeRegExp,G as getActiveLanguages,re as getAlphabetForActiveLanguage,I as getAttributeAreaTypes,j as getAttributeTypes,R as getCdnFolder,k as getCookie,S as getDomainName,J as getFormattedDate,C as getLangCode,F as getLanguageDetection,ne as getLanguages,Y as getLoggedProfile,B as getPayloadOfForm,L as getSecuredFolder,E as getSeoUrl,x as getSuperUserLogin,D as getWebSiteSettings,_ as isLogged,q as isOpenAiActive,y as languageAwareUrl,ee as loadByLangCode,Z as loadByLangCodeForEntity,X as loadManyTranslations,Q as loadTranslation,te as loadTranslationById,le as routeManager,b as setCookie,z as setLocalesPath,A as setPlatformInfo,V as tr,W as translate,H as translations,U as updateBean};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZXMuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy9zZXJ2aWNlcy9Db25zdGFudHMuanMiLCIuLi8uLi9zcmMvanMvc2VydmljZXMvVXRpbHMuanMiLCIuLi8uLi9zcmMvanMvc2VydmljZXMvVHJhbnNsYXRpb25NYW5hZ2VyLmpzIiwiLi4vLi4vc3JjL2pzL3NlcnZpY2VzL1JvdXRlTWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYXBwID0gd2luZG93LmFwcCB8fCBuZXcgTVNNMi5BcHAoKTtcbmV4cG9ydCBjb25zdCBNU00yQXBwID0gd2luZG93LmFwcDtcbmV4cG9ydCBjb25zdCBNU00ySHRtbEhlbHBlciA9IE1TTTIuQXBwLkh0bWxIZWxwZXI7XG5leHBvcnQgY29uc3QgTVNNMkF1dGhIZWxwZXIgPSBNU00yLkFwcC5BdXRoSGVscGVyO1xuZXhwb3J0IGNvbnN0IE1TTTJTY3JpcHRIZWxwZXIgPSBNU00yLkFwcC5TY3JpcHRIZWxwZXI7IiwiaW1wb3J0IHsgTVNNMkFwcCwgTVNNMkh0bWxIZWxwZXIgfSBmcm9tIFwiLi9Db25zdGFudHMuanNcIjtcblxuY2xhc3MgUHJvbWlzZVF1ZXVlIHtcbiAgICBxdWV1ZSAgID0gbmV3IE1hcCgpO1xuICAgIHBlbmRpbmcgPSBuZXcgU2V0KCk7XG4gICAgcGFyYWxsZWwgPSAxO1xuXG4gICAgY29uc3RydWN0b3IocGFyYWxsZWwgPSAxKSB7XG4gICAgICAgIHRoaXMucGFyYWxsZWwgPSBwYXJhbGxlbDtcbiAgICB9XG5cbiAgICBwdXNoKGYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucXVldWUuc2V0KGYsIHJlc29sdmUpO1xuICAgICAgICAgICAgdGhpcy5zdGFydE5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKHByb21pc2UpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nLmRlbGV0ZShwcm9taXNlKTtcbiAgICAgICAgdGhpcy5zdGFydE5leHQoKTtcbiAgICB9XG5cbiAgICBzdGFydE5leHQoKSB7XG4gICAgICAgIGlmKHRoaXMucGVuZGluZy5zaXplIDwgdGhpcy5wYXJhbGxlbCkge1xuICAgICAgICAgICAgY29uc3QgY291bnRUb1N0YXJ0ID0gdGhpcy5wYXJhbGxlbCAtIHRoaXMucGVuZGluZy5zaXplO1xuICAgICAgICAgICAgY29uc3QgdGFza3NUb1N0YXJ0ID0gWy4uLnRoaXMucXVldWVdLnNsaWNlKDAsIGNvdW50VG9TdGFydCk7XG4gICAgICAgICAgICBmb3IoY29uc3QgW3Rhc2ssIHJlc29sdmVyXSBvZiB0YXNrc1RvU3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdGFzaygpLnRoZW4ocmVzb2x2ZWQgPT4gcmVzb2x2ZXIocmVzb2x2ZWQpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuYWRkKHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbigoKSA9PiB0aGlzLnJlbW92ZShwcm9taXNlKSwgcmVhc29uID0+IHsgY29uc29sZS5sb2coYFByb21pc2VRdWV1ZSByZWplY3RlZDsgcmVhc29uOiAke0pTT04uc3RyaW5naWZ5KHJlYXNvbil9YCk7IHRoaXMucmVtb3ZlKHByb21pc2UpOyB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBVdGlscyB7XG4gICAgX3F1ZXVlID0gbmV3IFByb21pc2VRdWV1ZSg1MCk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICBpc0xvZ2dlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlQW5kR2V0SnNvbignc2VsbGVyUmVnaXN0cmF0aW9uU2VydmljZUltcGwnLCAnUFJPVE9UWVBFJywgJ2lzTG9nZ2VkJywgW10pLnRoZW4oZSA9PiBlLnJlc3VsdCk7XG4gICAgfVxuXG4gICAgZ2V0TG9nZ2VkUHJvZmlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlQW5kR2V0SnNvbignc2VsbGVyUmVnaXN0cmF0aW9uU2VydmljZUltcGwnLCAnUFJPVE9UWVBFJywgJ2dldExvZ2dlZFByb2ZpbGUnLCBbXSkudGhlbihlID0+IGUucmVzdWx0KTtcbiAgICB9XG5cbiAgICBnZXRMb2dnZWRTZWxsZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludm9rZUFuZEdldEpzb24oJ3NlbGxlclJlZ2lzdHJhdGlvblNlcnZpY2VJbXBsJywgJ1BST1RPVFlQRScsICdnZXRMb2dnZWRTZWxsZXInLCBbXSkudGhlbihlID0+IGUucmVzdWx0KTtcbiAgICB9XG5cbiAgICBnZXRDZG5Gb2xkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludm9rZUFuZEdldEpzb24oJ2Vjb21TZWFyY2hFbmdpbmVTZXJ2aWNlSW1wbCcsICdQUk9UT1RZUEUnLCAnZ2V0Q2RuRm9sZGVyTmFtZScsIFtdKS50aGVuKGUgPT4gZS5yZXN1bHQpOztcbiAgICB9XG5cbiAgICBnZXRTZWN1cmVkRm9sZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VBbmRHZXRKc29uKCdjb21tb25Qcm9wZXJ0aWVzJywgJ1BST1RPVFlQRScsICdnZXRTZWN1cmVkQ2RuRm9sZGVyTmFtZScsIFtdKS50aGVuKGUgPT4gZS5yZXN1bHQpOztcbiAgICB9XG5cbiAgICBnZXRTZW9VcmwoZW50aXR5SWQscmVwb3NpdG9yeU5hbWUpIHtcbiAgICAgICAgaWYoZW50aXR5SWQgJiYgcmVwb3NpdG9yeU5hbWUpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlQW5kR2V0SnNvbignbWFya2V0aW5nU2VydmljZUltcGwnLCAnUFJPVE9UWVBFJywgJ2dldFNlb1VybCcsIFtlbnRpdHlJZCwgcmVwb3NpdG9yeU5hbWVdKS50aGVuKGUgPT4gZS5yZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3VwZXJVc2VyTG9naW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludm9rZUFuZEdldEpzb24oJ2NvbW1vblByb3BlcnRpZXMnLCAnUFJPVE9UWVBFJywgJ2dldFN1cGVyVXNlckxvZ2luJywgW10pLnRoZW4oZSA9PiBlLnJlc3VsdCk7O1xuICAgIH1cblxuICAgIGdldEF0dHJpYnV0ZUFyZWFUeXBlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlQW5kR2V0SnNvbignZWNvbVNlYXJjaEVuZ2luZVNlcnZpY2VJbXBsJywgJ1BST1RPVFlQRScsICdnZXRBcmVhVXNhZ2VUeXBlcycsIFtdKS50aGVuKGUgPT4gZS5yZXN1bHQpO1xuICAgIH1cblxuICAgIGdldEF0dHJpYnV0ZVR5cGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VBbmRHZXRKc29uKCdlY29tU2VhcmNoRW5naW5lU2VydmljZUltcGwnLCAnUFJPVE9UWVBFJywgJ2dldEF0dHJpYnV0ZVR5cGVzJywgW10pLnRoZW4oZSA9PiBlLnJlc3VsdCk7XG4gICAgfVxuXG4gICAgZ2V0Rm9ybWF0dGVkRGF0ZShkYXRlLHBhdHRlcm4pIHtcbiAgICAgICAgaWYoZGF0ZSAmJiBwYXR0ZXJuKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9rZUFuZEdldEpzb24oJ2ZyYW1ld29ya09wZXJhdGlvblNlcnZpY2VJbXBsJywgJ1BST1RPVFlQRScsICdnZXRGb3JtYXR0ZWREYXRlJywgW2RhdGUscGF0dGVybl0pLnRoZW4oZSA9PiBlLnJlc3VsdD8udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RmlsZUV4dGVuc2lvbihmaWxlTmFtZSkge1xuICAgICAgICBpZihmaWxlTmFtZSl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VBbmRHZXRKc29uKFwiZnJhbWV3b3JrT3BlcmF0aW9uU2VydmljZUltcGxcIiwgXCJQUk9UT1RZUEVcIiwgXCJnZXRGaWxlRXh0ZW5zaW9uXCIsIFtmaWxlTmFtZV0pLnRoZW4oIHJlcyA9PiByZXMucmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldExhbmdDb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VBbmRHZXRKc29uKCdmcmFtZXdvcmtPcGVyYXRpb25TZXJ2aWNlSW1wbCcsICdQUk9UT1RZUEUnLCAnZ2V0TGFuZ0NvZGUnLCBbXSkudGhlbihlID0+IGUucmVzdWx0KTtcbiAgICB9XG5cbiAgICBnZXRMYW5ndWFnZURldGVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlQW5kR2V0SnNvbignZnJhbWV3b3JrT3BlcmF0aW9uU2VydmljZUltcGwnLCAnUFJPVE9UWVBFJywgJ2lzTGFuZ3VhZ2VEZXRlY3Rpb24nLCBbXSkudGhlbihlID0+IGUucmVzdWx0KTtcbiAgICB9XG5cbiAgICBnZXRBY3RpdmVMYW5ndWFnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludm9rZUFuZEdldEpzb24oJ2ZyYW1ld29ya09wZXJhdGlvblNlcnZpY2VJbXBsJywgJ1BST1RPVFlQRScsICdnZXRBY3RpdmVMYW5ndWFnZXMnLCBbXSkudGhlbihlID0+IGUucmVzdWx0KTtcbiAgICB9XG5cbiAgICBnZXRXZWJTaXRlU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludm9rZUFuZEdldEpzb24oJ2ZyYW1ld29ya09wZXJhdGlvblNlcnZpY2VJbXBsJywgJ1BST1RPVFlQRScsICdnZXRDdXJyZW50V2ViU2l0ZVNldHRpbmdzJywgW10pLnRoZW4oZSA9PiBlLnJlc3VsdCk7XG4gICAgfVxuXG4gICAgaXNPcGVuQWlBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiBjYWxsU2VydmljZShcImNoYXRHUFRTZXJ2aWNlXCIsXCJQUk9UT1RZUEVcIixcImlzT3BlbkFpS2V5RGVmaW5lZFwiKS50aGVuKHJlcyA9PiByZXMucmVzdWx0KTtcbiAgICB9XG5cbiAgICBnZXRQYXlsb2FkT2ZGb3JtKGVsZW0pIHtcbiAgICAgICAgcmV0dXJuIE1TTTJIdG1sSGVscGVyLmdldFBheWxvYWRPZkZvcm0oZWxlbSk7XG4gICAgfVxuXG4gICAgZ2V0UmVzdWx0T2JqZWN0T2ZFbGVtZW50cyguLi5lbGVtZW50cykge1xuICAgICAgICByZXR1cm4gTVNNMkh0bWxIZWxwZXIuZ2V0UmVzdWx0T2JqZWN0T2ZFbGVtZW50cyhlbGVtZW50cyk7XG4gICAgfVxuXG4gICAgZ2V0UmVzdWx0T2JqZWN0T2ZTZWxlY3RFbGVtZW50cyguLi5lbGVtZW50cykge1xuICAgICAgICByZXR1cm4gTVNNMkh0bWxIZWxwZXIuZ2V0UmVzdWx0T2JqZWN0T2ZTZWxlY3RFbGVtZW50cyhlbGVtZW50cyk7XG4gICAgfVxuXG4gICAgc3RyaW5nRm9ybWF0KGZvcm1hdHRlZCxhcmdzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlZ2V4cCA9IG5ldyBSZWdFeHAoJ1xcXFx7JytpKydcXFxcfScsICdnaScpO1xuICAgICAgICAgICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UocmVnZXhwLCBhcmd1bWVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gICAgfTtcblxuICAgIGFycmF5UmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oXG4gICAgICAgICAgICB7IGxlbmd0aDogKHN0b3AgLSBzdGFydCkgLyBzdGVwICsgMSB9LFxuICAgICAgICAgICAgKHZhbHVlLCBpbmRleCkgPT4gc3RhcnQgKyBpbmRleCAqIHN0ZXBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBlc2NhcGVSZWdFeHAoc3RyaW5nID0gXCJcIikge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBcIlxcXFxcXFxcJCZcIik7IC8vICQmIG1lYW5zIHRoZSB3aG9sZSBtYXRjaGVkIHN0cmluZ1xuICAgIH1cblxuICAgIHNldFBsYXRmb3JtSW5mbygpIHtcbiAgICAgICAgbGV0IHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodWEuaW5kZXhPZignc2FmYXJpJykgIT0gLTEpIHtcbiAgICAgICAgICAgIGlmICh1YS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdjaHJvbWUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdzYWZhcmknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvb2tpZShjbmFtZSkge1xuICAgICAgICBsZXQgbmFtZSA9IGNuYW1lICsgXCI9XCI7XG4gICAgICAgIGxldCBkZWNvZGVkQ29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7XG4gICAgICAgIGxldCBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoXCI7XCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYyA9IGNhW2ldO1xuICAgICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09IFwiIFwiKSB7XG4gICAgICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgc2V0Q29va2llKG5hbWUsIHZhbHVlLCBleHBpcmVzID0gbnVsbCwgZG9tYWluID0gbnVsbCwgcGF0aCA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgY29va2llID0gW1xuICAgICAgICAgICAgYCR7bmFtZX09JHt2YWx1ZX1gLFxuICAgICAgICAgICAgZXhwaXJlcyAhPSBudWxsID8gYGV4cGlyZXM9JHtleHBpcmVzfWAgOiBgYCxcbiAgICAgICAgICAgIGRvbWFpbiAgIT0gbnVsbCA/IGBkb21haW49JHtkb21haW59YCAgIDogYGAsXG4gICAgICAgICAgICBwYXRoICAgICE9IG51bGwgPyBgcGF0aD0ke3BhdGh9YCAgICAgICA6IGBgXG4gICAgICAgIF0uZmlsdGVyKHMgPT4gcy5sZW5ndGggPiAwKS5qb2luKCc7ICcpO1xuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWU7XG4gICAgfVxuXG4gICAgZ2V0RG9tYWluTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgICB9XG5cbiAgICBkZWxldGVBbGxDb29raWVzKGlnbm9yZSkge1xuICAgICAgICBjb25zdCBpc0Nvb2tpZUlnbm9yZWQgPSBjb29raWVOYW1lID0+IGlnbm9yZS5zb21lKCBpZ25vcmVkID0+IGlnbm9yZWQgaW5zdGFuY2VvZiBSZWdFeHAgPyBpZ25vcmVkLnRlc3QoY29va2llTmFtZSkgOiBjb29raWVOYW1lID09IGlnbm9yZWQgKTtcblxuICAgICAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIik7XG4gICAgICAgIGZvciAoY29uc3QgY29va2llIG9mIGNvb2tpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb2tpZU5hbWUgPSBjb29raWUuc3BsaXQoXCI7XCIpWzBdLnNwbGl0KFwiPVwiKVswXTtcbiAgICAgICAgICAgIGlmKCFpc0Nvb2tpZUlnbm9yZWQoY29va2llTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb21haW4gPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuc3BsaXQoXCIuXCIpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChkb21haW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29raWVWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29raWVFeHBpcmVzID0gJ1RodSwgMDEtSmFuLTE5NzAgMDA6MDA6MDEgR01UJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29va2llRG9tYWluID0gZG9tYWluLmpvaW4oJy4nKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29va2llUGF0aCA9ICcvJztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvb2tpZShjb29raWVOYW1lLCBjb29raWVWYWx1ZSwgY29va2llRXhwaXJlcywgY29va2llRG9tYWluLCBjb29raWVQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb29raWUoY29va2llTmFtZSwgY29va2llVmFsdWUsIGNvb2tpZUV4cGlyZXMsICcuJyArIGNvb2tpZURvbWFpbiwgY29va2llUGF0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKVxuICAgIH1cblxuICAgIGFzeW5jIGxhbmd1YWdlQXdhcmVVcmwodXJsKSB7XG4gICAgICAgIGxldCBkZXRlY3QgPSBhd2FpdCB0aGlzLmdldExhbmd1YWdlRGV0ZWN0aW9uKCk7XG4gICAgICAgIGlmKCFkZXRlY3QgJiYgdGhpcy5pc05vdFNQQSh1cmwpKXtcbiAgICAgICAgICAgIGxldCBsYW5nID0gZ2V0Q29va2llKFwiaTE4bmV4dFwiKSA/IGdldENvb2tpZShcImkxOG5leHRcIikgOlxuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJtc21MYW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGAvJHtsYW5nfSR7dXJsfWBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1cmxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzTm90U1BBKHVybCl7XG4gICAgICAgIHJldHVybiAhdXJsLm1hdGNoKC9eKFxcL3VzZXJcXC8uKnxcXC9hZG1pblxcLy4qKS8pO1xuICAgIH1cblxuICAgIGdyb3VwSW50ZXJ2YWxzKG51bWJlcnMsIHN0ZXApIHtcbiAgICAgICAgbGV0IGludGVydmFscyA9IFtdO1xuICAgICAgICBjb25zdCBzb3J0ZWROdW1iZXJzID0gbnVtYmVycy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgIGNvbnN0IG1pbiA9IHNvcnRlZE51bWJlcnMubGVuZ3RoID4gMCA/IHNvcnRlZE51bWJlcnNbMF0gOiAwO1xuICAgICAgICBjb25zdCBtYXggPSBzb3J0ZWROdW1iZXJzLmxlbmd0aCA+IDAgPyBzb3J0ZWROdW1iZXJzW3NvcnRlZE51bWJlcnMubGVuZ3RoLTFdIDogMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IG1pbjsgaSA8IG1heDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWxNaW4gPSBpKzE7XG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWxNYXggPSBpK3N0ZXAgPj0gbWF4ID8gbWF4IDogaStzdGVwO1xuICAgICAgICAgICAgbGV0IGludGVydmFsID0gW2ludGVydmFsTWluLGludGVydmFsTWF4XTtcbiAgICAgICAgICAgIGlmKGkgPT09IG1pbil7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0ID0gWzAsaV07XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxzLnB1c2goZmlyc3QpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcnZhbHMucHVzaChpbnRlcnZhbCk7XG4gICAgICAgICAgICBpZihpbnRlcnZhbE1heCA9PT0gbWF4KXtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IFtpbnRlcnZhbE1heF07XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxzLnB1c2gobGFzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW50ZXJ2YWxzO1xuICAgIH1cblxuICAgIGFwcGx5VG9VcmwodXJsUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB1cmxQYXJhbXMgJiYgdXJsUGFyYW1zLnRvU3RyaW5nKCkgIT09ICcnID8gYD8ke3VybFBhcmFtcy50b1N0cmluZygpfWAgOiAnJztcbiAgICAgICAgY29uc3QgcmVmcmVzaCA9IGAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH0vLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9JHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9JHthcmdzfWA7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShcbiAgICAgICAgICAgIHsgcGF0aDogcmVmcmVzaCB9LFxuICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUsXG4gICAgICAgICAgICBkZWNvZGVVUkkocmVmcmVzaClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpbnZva2VBbmRHZXRKc29uKGJlYW5JZCxzY29wZSxmdW5jdGlvbk5hbWUsYXJncyxldmVudFR5cGUsZW5kcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIE1TTTJBcHAuaW52b2tlQW5kR2V0SnNvbiQoYmVhbklkLHNjb3BlLGZ1bmN0aW9uTmFtZSxhcmdzLG51bGwsZXZlbnRUeXBlLGVuZHBvaW50KS5zdWJzY3JpYmUoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGludm9rZUZyb21SZXBvc2l0b3J5QW5kR2V0SnNvbihyZXBvc2l0b3J5SWQscXVlcnksZXZlbnRUeXBlLGVuZHBvaW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBNU00yQXBwLmludm9rZUZyb21SZXBvc2l0b3J5QW5kR2V0SnNvbiQocmVwb3NpdG9yeUlkLHF1ZXJ5LG51bGwsZXZlbnRUeXBlLGVuZHBvaW50KS5zdWJzY3JpYmUoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUJlYW5BbmRHZXRKc29uKGJlYW5JZCxzY29wZSxwYXlsb2FkLGV2ZW50VHlwZSxlbmRwb2ludCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgTVNNMkFwcC51cGRhdGVCZWFuQW5kR2V0SnNvbiQoYmVhbklkLHNjb3BlLHBheWxvYWQsbnVsbCxldmVudFR5cGUsZW5kcG9pbnQpLnN1YnNjcmliZShmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY29uc3QgdXRpbGl0aWVzID0gbmV3IFV0aWxzKCk7XG5jb25zdCBsYW5ndWFnZUF3YXJlVXJsID0gKHVybCkgPT4gdXRpbGl0aWVzLmxhbmd1YWdlQXdhcmVVcmwodXJsKTtcbmNvbnN0IGRlbGV0ZUFsbENvb2tpZXMgPSAoaWdub3JlKSA9PiB1dGlsaXRpZXMuZGVsZXRlQWxsQ29va2llcyhpZ25vcmUpO1xuY29uc3QgZ2V0RG9tYWluTmFtZSA9ICgpID0+IHV0aWxpdGllcy5nZXREb21haW5OYW1lKCk7XG5jb25zdCBzZXRDb29raWUgID0gKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBkb21haW4sIHBhdGgpID0+IHV0aWxpdGllcy5zZXRDb29raWUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIGRvbWFpbiwgcGF0aCk7XG5jb25zdCBnZXRDb29raWUgID0gKGNuYW1lKSA9PiB1dGlsaXRpZXMuZ2V0Q29va2llKGNuYW1lKTtcbmNvbnN0IHNldFBsYXRmb3JtSW5mbyAgPSAoKSA9PiB1dGlsaXRpZXMuc2V0UGxhdGZvcm1JbmZvKCk7XG5jb25zdCBlc2NhcGVSZWdFeHAgPSAoc3RyaW5nKSA9PiB1dGlsaXRpZXMuZXNjYXBlUmVnRXhwKHN0cmluZyk7XG5jb25zdCBnZXRDZG5Gb2xkZXIgPSAoKSA9PiB1dGlsaXRpZXMuZ2V0Q2RuRm9sZGVyKCk7XG5jb25zdCBnZXRTZWN1cmVkRm9sZGVyID0gKCkgPT4gdXRpbGl0aWVzLmdldFNlY3VyZWRGb2xkZXIoKTtcbmNvbnN0IGdldFNlb1VybCA9IChlbnRpdHlJZCxyZXBvc2l0b3J5TmFtZSkgPT4gdXRpbGl0aWVzLmdldFNlb1VybChlbnRpdHlJZCxyZXBvc2l0b3J5TmFtZSk7XG5jb25zdCBnZXRTdXBlclVzZXJMb2dpbiA9ICgpID0+IHV0aWxpdGllcy5nZXRTdXBlclVzZXJMb2dpbigpO1xuY29uc3QgZ2V0QXR0cmlidXRlQXJlYVR5cGVzID0gKCkgPT4gdXRpbGl0aWVzLmdldEF0dHJpYnV0ZUFyZWFUeXBlcygpO1xuY29uc3QgZ2V0QXR0cmlidXRlVHlwZXMgPSAoKSA9PiB1dGlsaXRpZXMuZ2V0QXR0cmlidXRlVHlwZXMoKTtcbmNvbnN0IGdldEZvcm1hdHRlZERhdGUgPSAoZGF0ZSxwYXR0ZXJuKSA9PiB1dGlsaXRpZXMuZ2V0Rm9ybWF0dGVkRGF0ZShkYXRlLHBhdHRlcm4pO1xuY29uc3QgZ2V0RmlsZUV4dGVuc2lvbiA9ICh1cmwpID0+IHV0aWxpdGllcy5nZXRGaWxlRXh0ZW5zaW9uKHVybCk7XG5jb25zdCBnZXRMYW5nQ29kZSA9ICgpID0+IHV0aWxpdGllcy5nZXRMYW5nQ29kZSgpO1xuY29uc3QgZ2V0TGFuZ3VhZ2VEZXRlY3Rpb24gPSAoKSA9PiB1dGlsaXRpZXMuZ2V0TGFuZ3VhZ2VEZXRlY3Rpb24oKTtcbmNvbnN0IGdldEFjdGl2ZUxhbmd1YWdlcyA9ICgpID0+IHV0aWxpdGllcy5nZXRBY3RpdmVMYW5ndWFnZXMoKTtcbmNvbnN0IGlzTG9nZ2VkID0gKCkgPT4gdXRpbGl0aWVzLmlzTG9nZ2VkKCk7XG5jb25zdCBnZXRMb2dnZWRQcm9maWxlID0gKCkgPT4gdXRpbGl0aWVzLmdldExvZ2dlZFByb2ZpbGUoKTtcbmNvbnN0IGdldExvZ2dlZFNlbGxlciA9ICgpID0+IHV0aWxpdGllcy5nZXRMb2dnZWRTZWxsZXIoKTtcbmNvbnN0IGNhbGxTZXJ2aWNlID0gKGJlYW5JZCxzY29wZSxmdW5jdGlvbk5hbWUsYXJncyxldmVudFR5cGUsZW5kcG9pbnQpID0+IHV0aWxpdGllcy5pbnZva2VBbmRHZXRKc29uKGJlYW5JZCxzY29wZSxmdW5jdGlvbk5hbWUsYXJncyxldmVudFR5cGUsZW5kcG9pbnQpO1xuY29uc3QgY2FsbFJlcG9zaXRvcnkgPSAocmVwb3NpdG9yeUlkLHF1ZXJ5LGV2ZW50VHlwZSxlbmRwb2ludCkgPT4gdXRpbGl0aWVzLmludm9rZUZyb21SZXBvc2l0b3J5QW5kR2V0SnNvbihyZXBvc2l0b3J5SWQscXVlcnksZXZlbnRUeXBlLGVuZHBvaW50KTtcbmNvbnN0IHVwZGF0ZUJlYW4gPSAoYmVhbklkLHNjb3BlLHBheWxvYWQsZXZlbnRUeXBlLGVuZHBvaW50KSA9PiB1dGlsaXRpZXMudXBkYXRlQmVhbkFuZEdldEpzb24oYmVhbklkLHNjb3BlLHBheWxvYWQsZXZlbnRUeXBlLGVuZHBvaW50KTtcbmNvbnN0IGdldFBheWxvYWRPZkZvcm0gPSAoZWxlbSkgPT4gdXRpbGl0aWVzLmdldFBheWxvYWRPZkZvcm0oZWxlbSk7XG5jb25zdCBhcnJheVJhbmdlID0gKHN0YXJ0LCBzdG9wLCBzdGVwKSA9PiB1dGlsaXRpZXMuYXJyYXlSYW5nZShzdGFydCwgc3RvcCwgc3RlcCk7XG5jb25zdCBzdHJpbmdGb3JtYXQgPSAoZm9ybWF0dGVkLGFyZ3MpID0+IHV0aWxpdGllcy5zdHJpbmdGb3JtYXQoZm9ybWF0dGVkLGFyZ3MpO1xuY29uc3QgaXNOb3RTUEEgPSAodXJsKSA9PiB1dGlsaXRpZXMuaXNOb3RTUEEodXJsKTtcbmNvbnN0IGdyb3VwSW50ZXJ2YWxzID0gKG51bWJlcnMsIHN0ZXApID0+IHV0aWxpdGllcy5ncm91cEludGVydmFscyhudW1iZXJzLCBzdGVwKTtcbmNvbnN0IGdldFdlYlNpdGVTZXR0aW5ncyA9ICgpID0+IHV0aWxpdGllcy5nZXRXZWJTaXRlU2V0dGluZ3MoKTtcbmNvbnN0IGFwcGx5VG9VcmwgPSAodXJsUGFyYW1zKSA9PiB1dGlsaXRpZXMuYXBwbHlUb1VybCh1cmxQYXJhbXMpO1xuY29uc3QgaXNPcGVuQWlBY3RpdmUgPSAoKSA9PiB1dGlsaXRpZXMuaXNPcGVuQWlBY3RpdmUoKTtcbmV4cG9ydCB7XG4gICAgbGFuZ3VhZ2VBd2FyZVVybCxcbiAgICBkZWxldGVBbGxDb29raWVzLFxuICAgIGdldERvbWFpbk5hbWUsXG4gICAgc2V0Q29va2llLFxuICAgIGdldENvb2tpZSxcbiAgICBzZXRQbGF0Zm9ybUluZm8sXG4gICAgZXNjYXBlUmVnRXhwLFxuICAgIGdldENkbkZvbGRlcixcbiAgICBnZXRTZWN1cmVkRm9sZGVyLFxuICAgIGdldFNlb1VybCxcbiAgICBnZXRTdXBlclVzZXJMb2dpbixcbiAgICBnZXRBdHRyaWJ1dGVBcmVhVHlwZXMsXG4gICAgZ2V0QXR0cmlidXRlVHlwZXMsXG4gICAgZ2V0Rm9ybWF0dGVkRGF0ZSxcbiAgICBnZXRGaWxlRXh0ZW5zaW9uLFxuICAgIGdldExhbmdDb2RlLFxuICAgIGdldExhbmd1YWdlRGV0ZWN0aW9uLFxuICAgIGdldEFjdGl2ZUxhbmd1YWdlcyxcbiAgICBnZXRQYXlsb2FkT2ZGb3JtLFxuICAgIGlzTG9nZ2VkLFxuICAgIGdldExvZ2dlZFByb2ZpbGUsXG4gICAgZ2V0TG9nZ2VkU2VsbGVyLFxuICAgIGNhbGxTZXJ2aWNlLFxuICAgIGNhbGxSZXBvc2l0b3J5LFxuICAgIHVwZGF0ZUJlYW4sXG4gICAgYXJyYXlSYW5nZSxcbiAgICBzdHJpbmdGb3JtYXQsXG4gICAgaXNOb3RTUEEsXG4gICAgZ3JvdXBJbnRlcnZhbHMsXG4gICAgZ2V0V2ViU2l0ZVNldHRpbmdzLFxuICAgIGFwcGx5VG9VcmwsXG4gICAgaXNPcGVuQWlBY3RpdmVcbn0iLCJpbXBvcnQge2NhbGxTZXJ2aWNlLCBjYWxsUmVwb3NpdG9yeSwgZ2V0TGFuZ0NvZGV9IGZyb20gJy4vVXRpbHMuanMnO1xuaW1wb3J0IGkxOG5leHQgZnJvbSBcImkxOG5leHRcIjtcbmltcG9ydCBMYW5ndWFnZURldGVjdG9yIGZyb20gXCJpMThuZXh0LWJyb3dzZXItbGFuZ3VhZ2VkZXRlY3RvclwiO1xuaW1wb3J0IEJhY2tlbmQgZnJvbSBcImkxOG5leHQtaHR0cC1iYWNrZW5kXCI7XG5cbmNsYXNzIFRyYW5zbGF0aW9uTWFuYWdlciB7XG4gICAgX2RlZmF1bHRMb2NhbGVzUGF0aCA9IFwiXCI7XG4gICAgX3RyYW5zbGF0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICBfaTE4biA9IG51bGw7XG4gICAgcHJveHkgPSBuZXcgUHJveHkoe30sIHt9KTtcbiAgICBwbGFjZWhvbGRlciA9ICcuLi4nO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgICAgIGhhczogKHRhcmdldCwga2V5KSA9PiB0aGlzLl90cmFuc2xhdGlvbnMuZ2V0KCd0cmFuc2xhdGlvbnNSZXBvc2l0b3J5JykuaGFzKGtleSksXG4gICAgICAgICAgICBnZXQ6ICh0YXJnZXQsIGtleSkgPT4gdGhpcy5nZXQoa2V5KSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbGF0aW9ucy5zZXQoJ3RyYW5zbGF0aW9uc1JlcG9zaXRvcnknLCBuZXcgTWFwKCkpO1xuICAgICAgICB0aGlzLl9pMThuID0gZ2V0TGFuZ0NvZGUoKS50aGVuKGZhbGxiYWNrID0+IGkxOG5leHQudXNlKExhbmd1YWdlRGV0ZWN0b3IpLnVzZShCYWNrZW5kKS5pbml0KHtcbiAgICAgICAgICAgICAgICBmYWxsYmFja0xuZzogZmFsbGJhY2ssXG4gICAgICAgICAgICAgICAgcGFydGlhbEJ1bmRsZWRMYW5ndWFnZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgYmFja2VuZDoge1xuICAgICAgICAgICAgICAgICAgICBsb2FkUGF0aDogYCR7dGhpcy5fZGVmYXVsdExvY2FsZXNQYXRofWBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRldGVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjogWydjb29raWUnLCdzZXNzaW9uU3RvcmFnZSddLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleXMgb3IgcGFyYW1zIHRvIGxvb2t1cCBsYW5ndWFnZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFF1ZXJ5c3RyaW5nOiAnbG5nJyxcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwQ29va2llOiAnaTE4bmV4dCcsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFNlc3Npb25TdG9yYWdlOiAnbXNtTGFuZycsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cEZyb21QYXRoSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cEZyb21TdWJkb21haW5JbmRleDogMCxcblxuICAgICAgICAgICAgICAgICAgICAvLyBjYWNoZSB1c2VyIGxhbmd1YWdlIG9uXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlczogWydzZXNzaW9uU3RvcmFnZScsICdjb29raWUnXSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoZXJyLCB0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ3NvbWV0aGluZyB3ZW50IHdyb25nIGxvYWRpbmcnLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKSk7XG5cbiAgICB9XG5cbiAgICBzZXRMb2NhbGVzUGF0aChsb2FkUGF0aCA9IGAke3RoaXMuX2RlZmF1bHRMb2NhbGVzUGF0aH1gKSB7XG4gICAgICAgIHRoaXMuX2kxOG4gPSBnZXRMYW5nQ29kZSgpLnRoZW4oZmFsbGJhY2sgPT4gaTE4bmV4dC51c2UoTGFuZ3VhZ2VEZXRlY3RvcikudXNlKEJhY2tlbmQpLmluaXQoe1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrTG5nOiBmYWxsYmFjayxcbiAgICAgICAgICAgICAgICBiYWNrZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYXRoOiBgJHtsb2FkUGF0aH1gXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZXRlY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IFsnY29va2llJywnc2Vzc2lvblN0b3JhZ2UnXSxcblxuICAgICAgICAgICAgICAgICAgICAvLyBrZXlzIG9yIHBhcmFtcyB0byBsb29rdXAgbGFuZ3VhZ2UgZnJvbVxuICAgICAgICAgICAgICAgICAgICBsb29rdXBRdWVyeXN0cmluZzogJ2xuZycsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cENvb2tpZTogJ2kxOG5leHQnLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBTZXNzaW9uU3RvcmFnZTogJ21zbUxhbmcnLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBGcm9tUGF0aEluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBGcm9tU3ViZG9tYWluSW5kZXg6IDAsXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FjaGUgdXNlciBsYW5ndWFnZSBvblxuICAgICAgICAgICAgICAgICAgICBjYWNoZXM6IFsnc2Vzc2lvblN0b3JhZ2UnLCAnY29va2llJ10sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKGVyciwgdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdzb21ldGhpbmcgd2VudCB3cm9uZyBsb2FkaW5nJywgZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIGFkZFJlc291cmNlQnVuZGxlKGxhbmcsbnMsdHJhbnNsYXRpb25zKXtcbiAgICAgICAgaTE4bmV4dC5hZGRSZXNvdXJjZUJ1bmRsZShsYW5nLG5zLHRyYW5zbGF0aW9ucyk7XG4gICAgfVxuXG4gICAgbG9hZChrZXksIHJlcG9zaXRvcnkgPSAndHJhbnNsYXRpb25zUmVwb3NpdG9yeScpIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSBjYWxsU2VydmljZSgndHJhbnNsYXRpb25TZXJ2aWNlSW1wbCcsICdQUk9UT1RZUEUnLCAnZ2V0VHJhbnNsYXRpb24nLCBba2V5LCByZXBvc2l0b3J5XSkudGhlbihlID0+IHtcbiAgICAgICAgICAgIGlmKGUucmVzdWx0Py52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLnJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVHJhbnNsYXRpb24gbm90IGZvdW5kIGZvciBcIiR7a2V5fVwiYClcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYoIXRoaXMuX3RyYW5zbGF0aW9ucy5oYXMocmVwb3NpdG9yeSkpIHRoaXMuX3RyYW5zbGF0aW9ucy5zZXQocmVwb3NpdG9yeSwgbmV3IE1hcCgpKTtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRpb25zLmdldChyZXBvc2l0b3J5KS5zZXQoa2V5LCB0cmFuc2xhdGlvbik7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICB9XG5cbiAgICBjbGVhckNhY2hlKCkge1xuICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgZ2V0KGtleSwgcmVwb3NpdG9yeSA9ICd0cmFuc2xhdGlvbnNSZXBvc2l0b3J5Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNsYXRpb25zLmhhcyhyZXBvc2l0b3J5KSAmJiB0aGlzLl90cmFuc2xhdGlvbnMuZ2V0KHJlcG9zaXRvcnkpLmhhcyhrZXkpXG4gICAgICAgICAgICA/IHRoaXMuX3RyYW5zbGF0aW9ucy5nZXQocmVwb3NpdG9yeSkuZ2V0KGtleSlcbiAgICAgICAgICAgIDogdGhpcy5sb2FkKGtleSwgcmVwb3NpdG9yeSk7XG4gICAgfVxuXG4gICAgYXN5bmMgbWFueSguLi5rZXlzKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKGtleXMubWFwKGFzeW5jIGtleSA9PiBba2V5LCBhd2FpdCB0aGlzLmdldChrZXkpXSkpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHRyYW5zbGF0aW9ucyk7XG4gICAgfVxuXG4gICAgbG9hZEJ5TGFuZ0NvZGVGb3JFbnRpdHkoZW50aXR5SWQsbGFuZyxyZXBvc2l0b3J5ID0gJ3RyYW5zbGF0aW9uc1JlcG9zaXRvcnknKSB7XG4gICAgICAgIHJldHVybiBjYWxsU2VydmljZSgndHJhbnNsYXRpb25TZXJ2aWNlSW1wbCcsICdQUk9UT1RZUEUnLCAnZ2V0VHJhbnNsYXRpb24nLCBbZW50aXR5SWQsIGxhbmcsIHJlcG9zaXRvcnldKS50aGVuKGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUucmVzdWx0Py52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLnJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUcmFuc2xhdGlvbiBub3QgZm91bmQgZm9yIFwiJHtlbnRpdHlJZH1cImApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkQnlMYW5nQ29kZShrZXksbGFuZykge1xuICAgICAgICBjb25zdCBxdWVyeSA9IHsgcXVlcnkgOiB7IF9pZCA6IGAke2tleX1fJHtsYW5nfWAgfSB9O1xuICAgICAgICByZXR1cm4gY2FsbFJlcG9zaXRvcnkoJ3RyYW5zbGF0aW9uc1JlcG9zaXRvcnknLHF1ZXJ5KVxuICAgICAgICAgICAgLnRoZW4oZSA9PiBlLnJlc3VsdC5tYXAoKHt0ZXh0fSk9Pih7dGV4dH0pKS5tYXAoaXRlbSA9PiBpdGVtLnRleHQpWzBdKTtcbiAgICB9XG5cbiAgICBsb2FkVHJhbnNsYXRpb25CeUlkKGlkKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0geyBxdWVyeSA6IHsgX2lkIDogaWQgfSB9O1xuICAgICAgICByZXR1cm4gY2FsbFJlcG9zaXRvcnkoJ3RyYW5zbGF0aW9uc1JlcG9zaXRvcnknLHF1ZXJ5KVxuICAgICAgICAgICAgLnRoZW4oZSA9PiBlLnJlc3VsdFswXSk7XG4gICAgfVxuXG4gICAgZ2V0TGFuZ3VhZ2VzKCkge1xuICAgICAgICByZXR1cm4gY2FsbFNlcnZpY2UoJ3RyYW5zbGF0aW9uU2VydmljZUltcGwnLCAnUFJPVE9UWVBFJywgJ2ZpbmRMYW5ndWFnZXMnLCBbXSkudGhlbihlID0+IGUucmVzdWx0KTtcbiAgICB9XG5cbiAgICBnZXRBbHBoYWJldEZvckFjdGl2ZUxhbmd1YWdlKCkge1xuICAgICAgICByZXR1cm4gY2FsbFNlcnZpY2UoJ3RyYW5zbGF0aW9uU2VydmljZUltcGwnLCAnUFJPVE9UWVBFJywgJ2dldEFscGhhYmV0Rm9yQWN0aXZlTGFuZ3VhZ2UnLCBbJ3RydWUnXSk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2kxOG4udGhlbigoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGkxOG5leHQudCguLi5hcmdzKSk7XG4gICAgICAgIH0pKSA7XG4gICAgfTtcbn1cblxuY29uc3QgdHJhbnNsYXRpb25NYW5hZ2VyID0gbmV3IFRyYW5zbGF0aW9uTWFuYWdlcigpO1xuY29uc3QgdHJhbnNsYXRpb25zID0gdHJhbnNsYXRpb25NYW5hZ2VyLnByb3h5O1xuY29uc3QgdHJhbnNsYXRlID0gKC4uLmFyZ3MpID0+IHRyYW5zbGF0aW9uTWFuYWdlci50cmFuc2xhdGUoLi4uYXJncyk7XG5jb25zdCBzZXRMb2NhbGVzUGF0aCA9ICguLi5hcmdzKSA9PiB0cmFuc2xhdGlvbk1hbmFnZXIuc2V0TG9jYWxlc1BhdGgoLi4uYXJncyk7XG5jb25zdCBhZGRSZXNvdXJjZUJ1bmRsZSA9ICguLi5hcmdzKSA9PiB0cmFuc2xhdGlvbk1hbmFnZXIuYWRkUmVzb3VyY2VCdW5kbGUoLi4uYXJncyk7XG5jb25zdCBsb2FkVHJhbnNsYXRpb24gPSAoLi4uYXJncykgPT4gdHJhbnNsYXRpb25NYW5hZ2VyLmxvYWQoLi4uYXJncyk7XG5jb25zdCBjbGVhclRyYW5zbGF0aW9uc0NhY2hlID0gKC4uLmFyZ3MpID0+IHRyYW5zbGF0aW9uTWFuYWdlci5jbGVhckNhY2hlKC4uLmFyZ3MpO1xuY29uc3QgdHIgPSAoLi4uYXJncykgPT4gdHJhbnNsYXRpb25NYW5hZ2VyLmdldCguLi5hcmdzKTtcbmNvbnN0IGxvYWRNYW55VHJhbnNsYXRpb25zID0gKC4uLmFyZ3MpID0+IHRyYW5zbGF0aW9uTWFuYWdlci5tYW55KC4uLmFyZ3MpO1xuY29uc3QgbG9hZEJ5TGFuZ0NvZGVGb3JFbnRpdHkgPSAoLi4uYXJncykgPT4gdHJhbnNsYXRpb25NYW5hZ2VyLmxvYWRCeUxhbmdDb2RlRm9yRW50aXR5KC4uLmFyZ3MpO1xuY29uc3QgbG9hZEJ5TGFuZ0NvZGUgPSAoLi4uYXJncykgPT4gdHJhbnNsYXRpb25NYW5hZ2VyLmxvYWRCeUxhbmdDb2RlKC4uLmFyZ3MpO1xuY29uc3QgbG9hZFRyYW5zbGF0aW9uQnlJZCA9ICguLi5hcmdzKSA9PiB0cmFuc2xhdGlvbk1hbmFnZXIubG9hZFRyYW5zbGF0aW9uQnlJZCguLi5hcmdzKTtcbmNvbnN0IGdldExhbmd1YWdlcyA9ICguLi5hcmdzKSA9PiB0cmFuc2xhdGlvbk1hbmFnZXIuZ2V0TGFuZ3VhZ2VzKC4uLmFyZ3MpO1xuY29uc3QgZ2V0QWxwaGFiZXRGb3JBY3RpdmVMYW5ndWFnZSA9ICguLi5hcmdzKSA9PiB0cmFuc2xhdGlvbk1hbmFnZXIuZ2V0QWxwaGFiZXRGb3JBY3RpdmVMYW5ndWFnZSguLi5hcmdzKTtcblxuZXhwb3J0IHtcbiAgICB0cmFuc2xhdGUsXG4gICAgc2V0TG9jYWxlc1BhdGgsXG4gICAgYWRkUmVzb3VyY2VCdW5kbGUsXG4gICAgdHJhbnNsYXRpb25zLFxuICAgIGxvYWRUcmFuc2xhdGlvbixcbiAgICBsb2FkTWFueVRyYW5zbGF0aW9ucyxcbiAgICBsb2FkQnlMYW5nQ29kZUZvckVudGl0eSxcbiAgICBsb2FkQnlMYW5nQ29kZSxcbiAgICBsb2FkVHJhbnNsYXRpb25CeUlkLFxuICAgIGNsZWFyVHJhbnNsYXRpb25zQ2FjaGUsXG4gICAgdHIsXG4gICAgZ2V0TGFuZ3VhZ2VzLFxuICAgIGdldEFscGhhYmV0Rm9yQWN0aXZlTGFuZ3VhZ2Vcbn07IiwiaW1wb3J0IHsgVVJMUGF0dGVybiB9IGZyb20gXCJ1cmxwYXR0ZXJuLXBvbHlmaWxsXCI7XG5pbXBvcnQge21ha2VBdXRvT2JzZXJ2YWJsZSwgcnVuSW5BY3Rpb24sIHRvSlN9IGZyb20gXCJtb2J4XCI7XG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tIFwiLi9UcmFuc2xhdGlvbk1hbmFnZXIuanNcIjtcblxuY2xhc3MgUm91dGVNYW5hZ2VyIHtcbiAgICBhcHBsaWNhdGlvbk5hbWUgPSBudWxsO1xuICAgIGFjdGl2ZVJvdXRlID0gbnVsbDtcbiAgICByb3V0ZXMgPSBuZXcgTWFwKCk7XG4gICAgZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbWFrZUF1dG9PYnNlcnZhYmxlKHRoaXMpO1xuICAgIH1cbiAgICBpbml0KGFwcE5hbWUpIHtcbiAgICAgICAgbGV0IHJvdXRlID0gdGhpcy5maW5kUm91dGVCeVVybCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uTmFtZSA9IGFwcE5hbWU7XG4gICAgICAgIGlmKHJvdXRlKXtcbiAgICAgICAgICAgIGlmKHRoaXMuI2lzRHluYW1pY1JvdXRlKHJvdXRlKSkge1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmVSb3V0ZSA9IHRoaXMuZ2V0QWN0aXZlUm91dGUoKTtcbiAgICAgICAgICAgICAgICBsZXQgW2tleV0gPSBPYmplY3Qua2V5cyhhY3RpdmVSb3V0ZS5wcm9wcyk7XG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IGFjdGl2ZVJvdXRlLnByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZShhY3RpdmVSb3V0ZS5wYW5lbCx2YWwrXCIuaHRtbFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZighdGhpcy4jaXNEeW5hbWljUm91dGUocm91dGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZShyb3V0ZS5wYW5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBbZmlyc3RLZXldID0gdGhpcy5yb3V0ZXMua2V5cygpO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RSb3V0ZSA9IHRoaXMucm91dGVzLmdldChmaXJzdEtleSk7XG4gICAgICAgICAgICBpZih0aGlzLiNpc0R5bmFtaWNSb3V0ZShmaXJzdFJvdXRlKSkge1xuICAgICAgICAgICAgICAgIGxldCBba2V5XSA9IE9iamVjdC5rZXlzKGZpcnN0Um91dGUucHJvcHMpO1xuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBmaXJzdFJvdXRlLnByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZShmaXJzdFJvdXRlLnBhbmVsLHZhbCtcIi5odG1sXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKCF0aGlzLiNpc0R5bmFtaWNSb3V0ZShmaXJzdFJvdXRlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGUoZmlyc3RSb3V0ZS5wYW5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHJvdXRlID0gZS5zdGF0ZTtcbiAgICAgICAgICAgIGlmKHJvdXRlLnByb3BzKXtcbiAgICAgICAgICAgICAgICBsZXQgW2tleV0gPSBPYmplY3Qua2V5cyhyb3V0ZS5wcm9wcyk7XG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IHJvdXRlLnByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgdGhpcy4jc2V0QWN0aXZlUm91dGUoZS5zdGF0ZS5wYW5lbCx2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNzZXRBY3RpdmVSb3V0ZShlLnN0YXRlLnBhbmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmluZFJvdXRlQnlVcmwodXJsKSB7XG4gICAgICAgIGxldCByb3V0ZSA9IHsuLi5bLi4udGhpcy5yb3V0ZXMudmFsdWVzKCldLmZpbmQoZW50cnkgPT4gZW50cnkucGF0dGVybi50ZXN0KHdpbmRvdy5vcmlnaW4gKyB1cmwpKX07XG4gICAgICAgIGlmKE9iamVjdC5rZXlzKHJvdXRlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSByb3V0ZS5wYXR0ZXJuLmV4ZWMod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgICAgcm91dGVbXCJwcm9wc1wiXSA9IHJlc3VsdC5wYXRobmFtZS5ncm91cHM7XG4gICAgICAgICAgICBydW5JbkFjdGlvbigoKSA9PiB0aGlzLmFjdGl2ZVJvdXRlID0gcm91dGUpO1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUm91dGUodXJsLHBhbmVsLHRpdGxlKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgVVJMUGF0dGVybih7XG4gICAgICAgICAgICBwYXRobmFtZTogdXJsLFxuICAgICAgICAgICAgYmFzZVVSTDogd2luZG93LmxvY2F0aW9uLm9yaWdpbixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucm91dGVzLnNldChwYW5lbCx7dXJsLCBwYW5lbCwgdGl0bGUsIHBhdHRlcm59KTtcbiAgICB9XG5cbiAgICByZW1vdmVBY3RpdmVSb3V0ZSgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImFjdGl2ZVJvdXRlXCIpO1xuICAgIH1cblxuICAgIG5hdmlnYXRlKHBhbmVsLHZhbCl7XG4gICAgICAgIGlmKHRoaXMucm91dGVzLmhhcyhwYW5lbCkpe1xuICAgICAgICAgICAgbGV0IHJvdXRlID0gdGhpcy4jc2V0QWN0aXZlUm91dGUocGFuZWwsdmFsKTtcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShyb3V0ZSwgXCJcIiwgcm91dGUudXJsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldEFjdGl2ZVJvdXRlKCkge1xuICAgICAgICBpZih0aGlzLmFjdGl2ZVJvdXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9KUyh0aGlzLmFjdGl2ZVJvdXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBhY3RpdmVSb3V0ZVN0ciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJhY3RpdmVSb3V0ZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVSb3V0ZVN0ciA/IEpTT04ucGFyc2UoYWN0aXZlUm91dGVTdHIpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICNzZXRBY3RpdmVSb3V0ZShyb3V0ZUtleSx2YWwpIHtcbiAgICAgICAgbGV0IHJvdXRlID0gdGhpcy4jcHJvY2Vzc1VybChyb3V0ZUtleSx2YWwpO1xuICAgICAgICBydW5JbkFjdGlvbigoKSA9PiB0aGlzLmFjdGl2ZVJvdXRlID0gcm91dGUpO1xuICAgICAgICByZXR1cm4gcm91dGU7XG4gICAgfVxuXG4gICAgI3Byb2Nlc3NVcmwocm91dGVLZXksdmFsKSB7XG4gICAgICAgIGxldCByb3V0ZSA9IHRvSlModGhpcy5yb3V0ZXMuZ2V0KHJvdXRlS2V5KSk7XG4gICAgICAgIGxldCBkeW5hbWljID0gdGhpcy4jaXNEeW5hbWljUm91dGUocm91dGUpO1xuICAgICAgICBpZihkeW5hbWljKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW0gPSByb3V0ZS51cmwuc3Vic3RyaW5nKHJvdXRlLnVybC5sYXN0SW5kZXhPZignLycpICsgMik7XG4gICAgICAgICAgICBsZXQga2V5ID0gcGFyYW0ucmVwbGFjZShcIitcIixcIlwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiLmh0bWxcIixcIlwiKTtcbiAgICAgICAgICAgIHJvdXRlLnByb3BzID0ge307XG4gICAgICAgICAgICByb3V0ZS51cmwgPSByb3V0ZS51cmwucmVwbGFjZShcIjpcIitwYXJhbSx2YWwpO1xuICAgICAgICAgICAgcm91dGUucHJvcHNba2V5XSA9IHZhbC5yZXBsYWNlKFwiLmh0bWxcIixcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiYWN0aXZlUm91dGVcIixKU09OLnN0cmluZ2lmeShyb3V0ZSkpO1xuICAgICAgICB0cmFuc2xhdGUocm91dGUudGl0bGUpLnRoZW4oKHQpID0+IGRvY3VtZW50LnRpdGxlID0gdGhpcy5hcHBsaWNhdGlvbk5hbWUgKyBcIiB8IFwiICsgdC50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIHJvdXRlO1xuICAgIH1cblxuICAgICNpc0R5bmFtaWNSb3V0ZShyb3V0ZSkge1xuICAgICAgICByZXR1cm4gcm91dGU/LnVybC5pbmRleE9mKFwiOlwiKSAhPT0gLTE7XG4gICAgfVxuXG59XG5leHBvcnQgY29uc3Qgcm91dGVNYW5hZ2VyID0gbmV3IFJvdXRlTWFuYWdlcigpOyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJhcHAiLCJNU00yIiwiQXBwIiwiTVNNMkFwcCIsIk1TTTJIdG1sSGVscGVyIiwiSHRtbEhlbHBlciIsIk1TTTJBdXRoSGVscGVyIiwiQXV0aEhlbHBlciIsIk1TTTJTY3JpcHRIZWxwZXIiLCJTY3JpcHRIZWxwZXIiLCJQcm9taXNlUXVldWUiLCJjb25zdHJ1Y3RvciIsInBhcmFsbGVsIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2RlZmluZVByb3BlcnR5IiwidGhpcyIsIk1hcCIsIlNldCIsInB1c2giLCJmIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJxdWV1ZSIsInNldCIsInN0YXJ0TmV4dCIsInJlbW92ZSIsInByb21pc2UiLCJwZW5kaW5nIiwiZGVsZXRlIiwiX3RoaXMiLCJzaXplIiwiY291bnRUb1N0YXJ0IiwidGFza3NUb1N0YXJ0Iiwic2xpY2UiLCJfbG9vcCIsInJlc29sdmVyIiwidGFzayIsInRoZW4iLCJyZXNvbHZlZCIsImFkZCIsInJlYXNvbiIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiLCJKU09OIiwic3RyaW5naWZ5IiwidXRpbGl0aWVzIiwiaXNMb2dnZWQiLCJpbnZva2VBbmRHZXRKc29uIiwiZSIsInJlc3VsdCIsImdldExvZ2dlZFByb2ZpbGUiLCJnZXRMb2dnZWRTZWxsZXIiLCJnZXRDZG5Gb2xkZXIiLCJnZXRTZWN1cmVkRm9sZGVyIiwiZ2V0U2VvVXJsIiwiZW50aXR5SWQiLCJyZXBvc2l0b3J5TmFtZSIsImdldFN1cGVyVXNlckxvZ2luIiwiZ2V0QXR0cmlidXRlQXJlYVR5cGVzIiwiZ2V0QXR0cmlidXRlVHlwZXMiLCJnZXRGb3JtYXR0ZWREYXRlIiwiZGF0ZSIsInBhdHRlcm4iLCJfZSRyZXN1bHQiLCJ2YWx1ZSIsImdldEZpbGVFeHRlbnNpb24iLCJmaWxlTmFtZSIsInJlcyIsImdldExhbmdDb2RlIiwiZ2V0TGFuZ3VhZ2VEZXRlY3Rpb24iLCJnZXRBY3RpdmVMYW5ndWFnZXMiLCJnZXRXZWJTaXRlU2V0dGluZ3MiLCJpc09wZW5BaUFjdGl2ZSIsImNhbGxTZXJ2aWNlIiwiZ2V0UGF5bG9hZE9mRm9ybSIsImVsZW0iLCJnZXRSZXN1bHRPYmplY3RPZkVsZW1lbnRzIiwiX2xlbiIsImVsZW1lbnRzIiwiQXJyYXkiLCJfa2V5IiwiZ2V0UmVzdWx0T2JqZWN0T2ZTZWxlY3RFbGVtZW50cyIsIl9sZW4yIiwiX2tleTIiLCJzdHJpbmdGb3JtYXQiLCJmb3JtYXR0ZWQiLCJhcmdzIiwiaSIsInJlZ2V4cCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJhcnJheVJhbmdlIiwic3RhcnQiLCJzdG9wIiwic3RlcCIsImZyb20iLCJpbmRleCIsImVzY2FwZVJlZ0V4cCIsInNldFBsYXRmb3JtSW5mbyIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiZG9jdW1lbnQiLCJib2R5IiwiY2xhc3NMaXN0IiwiZ2V0Q29va2llIiwiY25hbWUiLCJuYW1lIiwiY2EiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJzcGxpdCIsImMiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJzZXRDb29raWUiLCJleHBpcmVzIiwiZG9tYWluIiwicGF0aCIsImZpbHRlciIsInMiLCJqb2luIiwiZ2V0RG9tYWluTmFtZSIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJkZWxldGVBbGxDb29raWVzIiwiaWdub3JlIiwiaXNDb29raWVJZ25vcmVkIiwiY29va2llTmFtZSIsInNvbWUiLCJpZ25vcmVkIiwidGVzdCIsImNvb2tpZXMiLCJjb29raWVFeHBpcmVzIiwiY29va2llRG9tYWluIiwic2hpZnQiLCJsb2NhbFN0b3JhZ2UiLCJjbGVhciIsImxhbmd1YWdlQXdhcmVVcmwiLCJ1cmwiLCJfdGhpczIiLCJfYXN5bmNUb0dlbmVyYXRvciIsImlzTm90U1BBIiwibGFuZyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsIm1hdGNoIiwiZ3JvdXBJbnRlcnZhbHMiLCJudW1iZXJzIiwiaW50ZXJ2YWxzIiwic29ydGVkTnVtYmVycyIsInNvcnQiLCJhIiwiYiIsIm1pbiIsIm1heCIsImludGVydmFsTWF4IiwiaW50ZXJ2YWwiLCJmaXJzdCIsImxhc3QiLCJhcHBseVRvVXJsIiwidXJsUGFyYW1zIiwidG9TdHJpbmciLCJyZWZyZXNoIiwicHJvdG9jb2wiLCJob3N0IiwicGF0aG5hbWUiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwidGl0bGUiLCJkZWNvZGVVUkkiLCJiZWFuSWQiLCJzY29wZSIsImZ1bmN0aW9uTmFtZSIsImV2ZW50VHlwZSIsImVuZHBvaW50Iiwic2V0VGltZW91dCIsImludm9rZUFuZEdldEpzb24kIiwic3Vic2NyaWJlIiwiaW52b2tlRnJvbVJlcG9zaXRvcnlBbmRHZXRKc29uIiwicmVwb3NpdG9yeUlkIiwicXVlcnkiLCJpbnZva2VGcm9tUmVwb3NpdG9yeUFuZEdldEpzb24kIiwidXBkYXRlQmVhbkFuZEdldEpzb24iLCJwYXlsb2FkIiwidXBkYXRlQmVhbkFuZEdldEpzb24kIiwic3RyaW5nIiwiY2FsbFJlcG9zaXRvcnkiLCJ1cGRhdGVCZWFuIiwidHJhbnNsYXRpb25NYW5hZ2VyIiwiUHJveHkiLCJwcm94eSIsImhhcyIsInRhcmdldCIsImtleSIsIl90cmFuc2xhdGlvbnMiLCJnZXQiLCJfaTE4biIsImZhbGxiYWNrIiwiaTE4bmV4dCIsInVzZSIsIkxhbmd1YWdlRGV0ZWN0b3IiLCJCYWNrZW5kIiwiaW5pdCIsImZhbGxiYWNrTG5nIiwicGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMiLCJiYWNrZW5kIiwibG9hZFBhdGgiLCJfZGVmYXVsdExvY2FsZXNQYXRoIiwiZGV0ZWN0aW9uIiwib3JkZXIiLCJsb29rdXBRdWVyeXN0cmluZyIsImxvb2t1cENvb2tpZSIsImxvb2t1cFNlc3Npb25TdG9yYWdlIiwibG9va3VwRnJvbVBhdGhJbmRleCIsImxvb2t1cEZyb21TdWJkb21haW5JbmRleCIsImNhY2hlcyIsImVyciIsInQiLCJzZXRMb2NhbGVzUGF0aCIsImFkZFJlc291cmNlQnVuZGxlIiwibnMiLCJ0cmFuc2xhdGlvbnMiLCJsb2FkIiwicmVwb3NpdG9yeSIsInRyYW5zbGF0aW9uIiwid2FybiIsImNsZWFyQ2FjaGUiLCJtYW55IiwiX2FyZ3VtZW50cyIsImtleXMiLCJhbGwiLCJtYXAiLCJfcmVmIiwiX3giLCJhcHBseSIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwibG9hZEJ5TGFuZ0NvZGVGb3JFbnRpdHkiLCJfZSRyZXN1bHQyIiwibG9hZEJ5TGFuZ0NvZGUiLCJfaWQiLCJfcmVmMiIsInRleHQiLCJpdGVtIiwibG9hZFRyYW5zbGF0aW9uQnlJZCIsImlkIiwiZ2V0TGFuZ3VhZ2VzIiwiZ2V0QWxwaGFiZXRGb3JBY3RpdmVMYW5ndWFnZSIsInRyYW5zbGF0ZSIsImxvYWRUcmFuc2xhdGlvbiIsImNsZWFyVHJhbnNsYXRpb25zQ2FjaGUiLCJ0ciIsImxvYWRNYW55VHJhbnNsYXRpb25zIiwiX1JvdXRlTWFuYWdlcl9icmFuZCIsIldlYWtTZXQiLCJfc2V0QWN0aXZlUm91dGUiLCJyb3V0ZUtleSIsInZhbCIsInJvdXRlIiwiX2Fzc2VydENsYXNzQnJhbmQiLCJfcHJvY2Vzc1VybCIsImNhbGwiLCJydW5JbkFjdGlvbiIsImFjdGl2ZVJvdXRlIiwidG9KUyIsInJvdXRlcyIsIl9pc0R5bmFtaWNSb3V0ZSIsInBhcmFtIiwibGFzdEluZGV4T2YiLCJwcm9wcyIsInNldEl0ZW0iLCJhcHBsaWNhdGlvbk5hbWUiLCJyb3V0ZU1hbmFnZXIiLCJfY2xhc3NQcml2YXRlTWV0aG9kSW5pdFNwZWMiLCJtYWtlQXV0b09ic2VydmFibGUiLCJhcHBOYW1lIiwiZmluZFJvdXRlQnlVcmwiLCJnZXRBY3RpdmVSb3V0ZSIsIm5hdmlnYXRlIiwicGFuZWwiLCJmaXJzdEtleSIsImZpcnN0Um91dGUiLCJhZGRFdmVudExpc3RlbmVyIiwic3RhdGUiLCJfb2JqZWN0U3ByZWFkIiwidmFsdWVzIiwiZmluZCIsImVudHJ5Iiwib3JpZ2luIiwiZXhlYyIsImhyZWYiLCJncm91cHMiLCJhZGRSb3V0ZSIsIlVSTFBhdHRlcm4iLCJiYXNlVVJMIiwicmVtb3ZlQWN0aXZlUm91dGUiLCJyZW1vdmVJdGVtIiwicHVzaFN0YXRlIiwiZGlzYWJsZSIsImRpc2FibGVkIiwiYWN0aXZlUm91dGVTdHIiLCJwYXJzZSJdLCJtYXBwaW5ncyI6InUrQ0FBQUEsT0FBT0MsSUFBTUQsT0FBT0MsS0FBTyxJQUFJQyxLQUFLQyxJQUN2QkMsSUFBQUEsRUFBVUosT0FBT0MsSUFDakJJLEVBQWlCSCxLQUFLQyxJQUFJRyxXQUMxQkMsRUFBaUJMLEtBQUtDLElBQUlLLFdBQzFCQyxFQUFtQlAsS0FBS0MsSUFBSU8sYUNGekMsTUFBTUMsRUFLRkMsV0FBQUEsR0FBMEIsSUFBZEMsRUFBUUMsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBRyxFQUFDRyxFQUpkQyxLQUFBLFFBQUEsSUFBSUMsS0FBS0YsRUFDVEMsS0FBQSxVQUFBLElBQUlFLEtBQUtILGtCQUNSLEdBR1BDLEtBQUtMLFNBQVdBLENBQ3BCLENBRUFRLElBQUFBLENBQUtDLEdBQ0QsT0FBTyxJQUFJQyxTQUFRLENBQUNDLEVBQVNDLEtBQ3pCUCxLQUFLUSxNQUFNQyxJQUFJTCxFQUFHRSxHQUNsQk4sS0FBS1UsV0FBVyxHQUV4QixDQUVBQyxNQUFBQSxDQUFPQyxHQUNIWixLQUFLYSxRQUFRQyxPQUFPRixHQUNw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
